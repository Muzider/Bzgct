{% extends 'drawings/base.html' %}

{% block title %}新增典型分段 - 标准工程图系统{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">新增典型分段</h1>
    <div class="breadcrumb">典型分段管理 > 新增典型分段</div>
</div>

<div class="content-card">
    {% if error_message %}
    <div class="alert alert-danger">
        {{ error_message }}
    </div>
    {% endif %}
    
    <form method="post">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="ship_type" class="form-label">船型 *</label>
            <select id="ship_type" name="ship_type" class="form-control" required>
                <option value="">请选择船型</option>
                {% for ship_type in ship_types %}
                <option value="{{ ship_type.id }}">{{ ship_type.ship_type }}{% if ship_type.ship_subtype %} - {{ ship_type.ship_subtype }}{% endif %}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="section_name" class="form-label">分段名称 *</label>
            <input type="text" id="section_name" name="section_name" class="form-control" required 
                   placeholder="例如：双层底分段、甲板分段、抗扭箱分段等">
        </div>
        
        <div class="form-group">
            <label for="section_code" class="form-label">分段编码</label>
            <input type="text" id="section_code" name="section_code" class="form-control" 
                   placeholder="例如：DB001、DK001等（可选）">
        </div>
        
        <div class="form-group">
            <label for="description" class="form-label">分段描述</label>
            <textarea id="description" name="description" class="form-control" rows="4" 
                      placeholder="详细描述该典型分段的特点、用途等（可选）"></textarea>
        </div>
        
        <div class="form-group">
            <label class="form-label">状态</label>
            <div>
                <label for="is_active_1" style="margin-right: 20px;">
                    <input type="radio" id="is_active_1" name="is_active" value="1" checked> 启用
                </label>
                <label for="is_active_0">
                    <input type="radio" id="is_active_0" name="is_active" value="0"> 禁用
                </label>
            </div>
        </div>
        
        <div class="d-flex justify-content-between">
            <a href="{% url 'drawings:typical_section_list' %}" class="btn btn-secondary">返回列表</a>
            <button type="submit" class="btn btn-success">保存分段</button>
        </div>
    </form>
</div>
{% endblock %}
